{% extends 'game.html' %}

{% block titleExt %}<h3>Details</h3>{% endblock titleExt %}

{% block gameBody %}
<div class="container-fluid m-0 p-0">
    <div class="container-fluid p-0">
        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/static/img/game_slider/{{name}} (1).jpeg" height="700px" class="d-block w-100"
                        alt="..." />
                    <div class="carousel-caption d-none d-md-block">
                        <p class="display-6">1</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="/static/img/game_slider/{{name}} (2).jpeg" height="700px" class="d-block w-100"
                        alt="..." />
                    <div class="carousel-caption d-none d-md-block">
                        <p class="display-6">2</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="/static/img/game_slider/{{name}} (3).jpeg" height="700px" class="d-block w-100"
                        alt="..." />
                    <div class="carousel-caption d-none d-md-block">
                        <p class="display-6">3</p>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
    <div class="row p-4 p-md-5 text-white bg-dark" style="width: 100%;">
        <div class="col-md-6 px-0 border-start">
            <h5 class="text-center pb-3">Categories</h5>
            <div class="row">
                {% for category in categories %}
                <div class="col-md-4 fw-light text-center">{{ category }}</div>
                {% endfor %}
            </div>
        </div>
        <div class="col-md-6 px-0 border-start border-end">
            <h5 class="text-center pb-3">Genres</h5>
            <div class="row">
                {% for genre in genres %}
                <div class="col-md-4 fw-light text-center">{{ genre }}</div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="p-4 p-md-5 text-white bg-dark">
        <div class="col-md-12 px-0">
            <h1 class="display-6 fw-bold">Description</h1>
            <p>{{description}}</p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque, perspiciatis? Harum autem officiis explicabo
            animi, reiciendis fugit, dolorem accusantium magni dolorum saepe alias! Perspiciatis illo laborum ipsam
            aperiam, natus quam aliquam cumque ex. Dolor aut libero enim, blanditiis molestias quis asperiores. Sunt
            autem libero laudantium dolores? Laborum fuga adipisci magnam optio id sapiente eos nesciunt dolore
            mollitia, recusandae corporis ducimus!
        </div>
    </div>
    <hr style="color: white;">
    <div class="p-4 p-md-5 text-white bg-dark">
        <h1 class="display-6 fw-bold">Purchase Game</h1>
        <h3 class="fw-light">{{price}} $</h3>
        <button type="button" class="btn btn-primary text-dark" data-bs-toggle="modal" data-bs-target="#exampleModal">Buy Now</button>
        <div class="modal fade text-dark" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Add details</h5>
                        <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="mb-3">
                                <h5>{{name}}</h5>
                                <h6>Price: {{price}}$</h6>
                            </div>
                            <div class="mb-3">
                                <label for="recipient-name" class="col-form-label">Credit Card Number:</label>
                                <input name="cardNumber" type="text" class="form-control" id="recipient-name" placeholder="xxxx-xxxx-xxxx-xxxx">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary text-dark" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary text-dark">Confirm Order</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr style="color: white;">
    <div class="p-4 p-md-5 text-white bg-dark">
        <div class="col-md-12 px-0">
            <h1 class="display-6 fw-bold">Ratings</h1>
            <h2 class="text-center fw-bold"><span style="color: chartreuse; font-size: 60px;">{{ratings}}</span> / 10
            </h2>
        </div>
    </div>
    <hr style="color: white;">
    <div class="p-4 p-md-5 text-white bg-dark">
        <div class="col-md-12 px-0 border-bottom">
            <h1 class="display-6 fw-bold">Reviews</h1>
        </div>
        {% for review in reviewList %}
        <div class="p-5 text-white bg-dark">
            <h2>{{review.reviewer}}</h2>
            <h4>{{review.title}}</h4>
            <p>{{review.comment}}</p>
        </div>
        {% endfor %}
        <div class="p-5 text-white bg-dark">
            <h4>Add your review</h4>
            <form class="row g-3 align-items-center" method="post" action="/game/{{name}}/">
                {% csrf_token %}
                {{form}}
                <div class="col-md-4">
                    <input name="reviewTitle" type="text" class="form-control" id="reviewTitle"
                        placeholder="Review Title" required>
                </div>
                <div class="form-group">
                    <textarea name="comment" class="form-control" id="comment" rows="3" placeholder="Comment"
                        required></textarea>
                </div>

                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
                {% endif %}
                <div class="col-12-gy-5">
                    <button type="submit" class="btn btn-warning">Post</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock gameBody %}